## 2022-07-06
`Done`
 팀원 코드 리뷰 & 고객사 박스 추천 버그 수정 및 자체 테스트

`TIL`
### Serializable 을 써야 하는 이유
> AI 팀에서 제공하는 고객사 박스 추천 API 를 호출할 때 사용하는 RequestVO 클래스에 Serializable 를 구현했다. 
> 해당 post API 는 json 형식으로 Request body 로 던지고 retrofit 을 사용하고 있었다.
> 그래서 코드를 다시 보다가 Serializable 구현해야 할 이유가 있나 라는 생각이 들었다. 실제로 그랬다. 나는 직렬화에 대해 정확히 모르는 것 같다.


___
`(1) Serializable 이란?`
* 직렬화 : 객체에 저장된 데이터를 I/O 스트림에 쓰기(출력) 위해 연속적인 데이터(바이트 형태)로 변환하는 것
* 역직렬화 : I/O 스트림에서 데이터를 읽어서(입력) 객체를 만드는 것

* Byte 객체로 직렬화 하는 이유 : 서로 다른 메모리 공간 사이의 데이터 전달을 위해서는 메모리 공간의 주소값이 아닌
Byte 형태로 직렬화된 객체 데이터를 전달한다면 사용하는 쪽에서 역직렬화하여 사용할 수 있게 된다.

* Java.io.Serializable 인터페이스를 상속받은 객체와 Primitive 타입의 데이터(정해진 Byte 이기 때문)가 직렬화의 대상이 될 수 있다
* 따라서 작성한 클래스가 파일로 저장, 읽고 쓸 수 있도록 하거나, 다른 서버로 보내거나 받고자 할 때 필요한게 Serializable 이고,
  이를 사용하기 위해서는 Serializable 인터페이스를 구현해야 한다.
* Serializable 인터페이스를 구현하면 `JVM` 에서 해당 객체는 저장하거나 다른 서버로 전송할 수 있도록 해준다.

`(2) 문자열 형태의 직렬화 방법`
* csv
    * 데이터들을 , 로 구분하여 저장하는 형식이다. 표 형태의 다량의 데이터를 직렬화시 많이 사용된다
* json
    * JavaScript 에서 객체를 표현하는 표기법이다. 사람이 읽고 쉬우며 컴퓨터가 이해하기 쉬운 형태이기 때문에 구조적인 데이터를 전달하기 위해
      다양한 프로그래밍 언어에서 사용중이다. name:value 쌍의 형태로 데이터가 저장되며, :을 기준으로 구분되어진다.
* Json, CSV 등의 포맷은 직렬화/역직렬화 시에 특정 라이브러리를 도입해야 쉽게 개발이 가능하며, 구조가 복잡해지면 직접
매핑해줘야 하지만, Java 직렬화는 java.io.Serializable 인터페이스만 구현해주면 가능.

직렬화더공부하기!(https://ryan-han.com/post/java/serialization/)

---
```java
@POST("")
Call<CalculationResponse> callApi(@Body ApiRequestVO ApiRequestVO);
```  
```java
package retrofit2.http;

/**
 * Use this annotation on a service method param when you want to directly control the request body
 * of a POST/PUT request (instead of sending in as request parameters or form-style request
 * body). The object will be serialized using the {@link Retrofit Retrofit} instance
 * {@link Converter Converter} and the result will be set directly as the
 * request body.
 * <p>
 * Body parameters may not be {@code null}.
 */
@Documented
@Target(PARAMETER)
@Retention(RUNTIME)
public @interface Body {
}

```
그리고 저 Converter 인터페이스를 구현한 GsonConverterFactory 와 JacksonConverterFactory 클래스가 라이브러리로 있었고,
내가 수정하고 있는 프로젝트에서는 Converter로 Gson 을 주입시켜 사용하고 있었다
```java
Retrofit retrofit =  new Retrofit.Builder()
.baseUrl(BASE_URL)
.addConverterFactory(GsonConverterFactory.create(gson))
.client(httpClient)
.build();
```
---
* Gson
  * 자바 객체와 JSON 간의 직렬화 및 역직렬화를 위해 구글에서 만든 오픈소스 라이브러리다.
  * Json 문자열 <-> Java Object
  * @SerializedName : Gson 내 annotation 으로 직렬화를 시킬 때 어떤 값으로 이름을 지정할 건지 정해주는 옵션.

* Retrofit
  * Android 와 Java 를 위한 HTTP Client.
  * Retrofit을 이용해 HTTP API를 Java Interface로 변환할 수 있다(물론 컨버터도 필요)

`기억할것`
* 일은 RedGreenYellow 로 일하자. 우선은 마감 기간 안에 정상 동작 할 수 있도록 기능 구현후 -> 빠르게 완료해서 리팩토링하자!
* 메타버스/GPU 개발 기억하자. 풀필먼트 유망하니까 잘 알아놓자 (여기서 개발보다는 업무 플로우, 도메인 익히는것에 관심을 갖자)
* IT 트렌드에 관심을 갖자!
